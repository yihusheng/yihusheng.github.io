<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>双字换算计算机</title>
</head>
<body>
    <h1>双浮点运算计算器</h1>
    初始数值：<input id="input" type="text" value="1" /><br><br>
    双字数值：<input id="result" type="text" value="1072693248" /><br><br>
    <input id="calculate" type="button" value="开始计算" /><br><br>
    <h3>有能力的请支持下作者：【支付宝帐号137362300@qq.com】</h3><br>
        <b>---- 实用单机游戏 </b>
</body>
<script>
    var button = window.document.getElementById("calculate");
    var result = window.document.getElementById("result");
    button.onclick = gogogo;
    function checkNum() { //输入审查
        var vnum1 = window.document.getElementById("input").value;
        return isNaN(vnum1) ? null : vnum1;
    }
    function cal(a) { //计算过程
        if (a != null) {
            return 1072693248 + Math.pow(2, (20 - Math.floor(Math.log(a) / Math.log(2)))) * (a - Math.pow(2, (Math.floor(Math.log(a) / Math.log(2))))) + Math.pow(2, 20) * Math.floor(Math.log(a) / Math.log(2));
        }
    }
    function coutRes(b) { //输出结果
        if (b != null) {
            result.value = b;
        } else {
            result.value = "数值不正确。";
        }
    }
    function gogogo() { //清除上一次残留
        result.value = "";
        coutRes(cal(checkNum()));
    }
</script>
</html>
